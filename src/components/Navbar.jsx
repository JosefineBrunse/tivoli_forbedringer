"use client";
import Image from "next/image";
import styles from "../styles/navbar.css";
import Link from "next/link";
import { useState, useContext } from "react";
import { UserContext, SetUserContext } from "./MyContexts";

import PrimaryBtn from "./PrimaryBtn";
import SecondaryBtn from "./SecondaryBtn";

export default function Navbar({ koncepter }) {
  const userState = useContext(UserContext);
  const [active, setactive] = useState(false);

  function handleBurgerClick() {
    setactive((old) => !old);
  }
  function closeBurger() {
    setactive((old) => false);
  }

  return (
    <div className="nav_container">
      <nav className="navbar">
        <Link className={"nav-branding " + (active ? "active" : "")} href="/" onClick={closeBurger}>
          <svg xmlns="http://www.w3.org/2000/svg" width="125" height="35" viewBox="0 0 125 35" fill="none">
            <path
              d="M27.8778 34.9442C27.3807 34.9442 26.881 34.4537 26.881 33.9608C26.881 33.4703 27.3782 32.9773 27.8778 32.9773C28.375 32.9773 28.8747 33.4678 28.8747 33.9608C28.8747 34.5745 28.5024 34.9442 27.8778 34.9442ZM33.2318 34.9442C32.3599 34.9442 31.7378 34.3305 31.7378 33.4703C31.7378 32.61 32.3599 31.9963 33.2318 31.9963C34.1037 31.9963 34.7258 32.61 34.7258 33.4703C34.7258 34.328 34.1037 34.9442 33.2318 34.9442ZM39.5801 34.9442C38.4609 34.9442 37.5889 34.084 37.5889 32.9798C37.5889 31.8755 38.4609 31.0153 39.5801 31.0153C40.6994 31.0153 41.5713 31.8755 41.5713 32.9798C41.5738 34.084 40.7019 34.9442 39.5801 34.9442ZM46.9253 34.9442C45.5562 34.9442 44.4344 33.84 44.4344 32.4868C44.4344 31.1361 45.5537 30.0294 46.9253 30.0294C48.2969 30.0294 49.4161 31.1336 49.4161 32.4868C49.4161 33.8375 48.2944 34.9442 46.9253 34.9442ZM55.2673 34.9442C53.6483 34.9442 52.2792 33.5935 52.2792 31.9963C52.2792 30.3991 53.6483 29.0484 55.2673 29.0484C56.8862 29.0484 58.2553 30.3991 58.2553 31.9963C58.3802 33.5935 57.0086 34.9442 55.2673 34.9442ZM64.7285 34.9442C62.7374 34.9442 61.2433 33.347 61.2433 31.5058C61.2433 29.5413 62.8623 28.0674 64.7285 28.0674C66.7197 28.0674 68.2137 29.6646 68.2137 31.5058C68.2137 33.4703 66.5948 34.9442 64.7285 34.9442ZM74.0649 34.9442C72.446 34.9442 71.0769 33.5935 71.0769 31.9963C71.0769 30.3991 72.446 29.0484 74.0649 29.0484C75.6838 29.0484 77.0529 30.3991 77.0529 31.9963C77.1778 33.5935 75.8087 34.9442 74.0649 34.9442ZM82.5293 34.9442C81.1602 34.9442 80.0384 33.84 80.0384 32.4868C80.0384 31.1361 81.1577 30.0294 82.5293 30.0294C83.9009 30.0294 85.0202 31.1336 85.0202 32.4868C85.0202 33.8375 83.8984 34.9442 82.5293 34.9442ZM89.8745 34.9442C88.7552 34.9442 87.8833 34.084 87.8833 32.9798C87.8833 31.8755 88.7552 31.0153 89.8745 31.0153C90.9937 31.0153 91.8657 31.8755 91.8657 32.9798C91.8657 34.084 90.9962 34.9442 89.8745 34.9442ZM96.2228 34.9442C95.3509 34.9442 94.7288 34.3305 94.7288 33.4703C94.7288 32.61 95.3509 31.9963 96.2228 31.9963C97.0947 31.9963 97.7168 32.61 97.7168 33.4703C97.7168 34.3305 96.9698 34.9442 96.2228 34.9442ZM101.577 34.9442C101.08 34.9442 100.58 34.4537 100.58 33.9608C100.58 33.4703 101.077 32.9773 101.577 32.9773C102.074 32.9773 102.574 33.4678 102.574 33.9608C102.449 34.5745 102.074 34.9442 101.577 34.9442Z"
              fill="#FDF8EE"
            />
            <path
              d="M3.72867 16.0292C4.6006 15.7827 4.6006 15.4155 4.72551 14.3088V14.0623C4.85043 12.7116 5.22269 12.2211 6.46937 11.9746L7.21637 11.7281L10.9514 25.8515C11.8233 28.7994 9.20756 27.3255 9.70723 29.4132L10.0795 30.8871C13.9394 29.7829 17.6745 28.7994 21.6569 27.9392L21.2846 26.4652C20.7874 24.3775 19.1685 26.9557 18.4215 24.1311L14.6864 10.0077L15.4335 9.76119C16.6776 9.39393 17.2997 9.63795 18.0467 10.7447L18.1716 10.8679C18.9187 11.8514 19.0436 12.0954 19.9155 11.8514L21.4095 11.4841L19.7906 5.34424C13.3149 6.69496 6.83912 8.4154 0.615723 10.2566L2.23466 16.3965L3.72867 16.0292Z"
              fill="#FDF8EE"
            />
            <path d="M26.8835 9.27342L28.9996 21.6788C29.4967 24.75 27.2557 23.0296 27.5055 25.1173L27.7554 26.5912C31.4904 25.8542 35.3504 25.2405 39.0829 24.75L38.8331 23.276C38.4608 21.1883 36.8419 23.6433 36.3422 20.4514L34.351 8.04594C33.8539 4.97478 36.0949 6.69522 35.8451 4.60753L35.4728 2.64307C31.6128 3.13356 27.8778 3.7473 24.1453 4.48428L24.3951 6.44874C24.7674 8.53644 26.3863 6.20473 26.8835 9.27342Z" fill="#FDF8EE" />
            <path
              d="M41.6962 5.95815L49.1663 23.6432C50.9102 23.52 52.7764 23.3967 54.5203 23.276L59.6244 5.34441C60.2465 3.37996 61.9904 3.87045 61.8654 2.64298L61.7405 0.801758C59.1272 0.801758 56.6364 0.924999 54.0231 1.04824L54.148 3.0127C54.2729 4.48666 56.0143 3.5032 56.1392 5.1004C56.1392 5.5909 56.0143 6.45112 55.767 7.31134L53.9007 14.8044H53.7758L50.0382 6.20463C48.919 3.74721 52.0294 4.97469 51.9045 3.13347L51.7796 1.04577C47.6723 1.29226 43.5625 1.65951 39.4552 2.15001L39.5801 3.87045C39.705 5.46765 40.9517 4.36095 41.6962 5.95815Z"
              fill="#FDF8EE"
            />
            <path d="M93.6095 7.55505L91.4934 19.9605C90.9962 23.0316 89.3773 20.6975 89.0025 22.7852L88.7527 24.3824C94.2291 24.9961 99.708 25.8563 105.062 26.9605L106.431 20.3277L105.187 20.0812C102.324 19.714 103.693 23.5197 98.9635 22.7827H98.7136L101.08 8.65929C101.577 5.58813 103.196 7.92231 103.57 5.83461L103.943 3.99339C100.208 3.37965 96.3477 2.76591 92.4902 2.27295L92.118 4.11417C91.8656 6.08109 94.1067 4.48389 93.6095 7.55505Z" fill="#FDF8EE" />
            <path d="M113.654 11.2405L110.541 23.3994C109.794 26.4706 108.3 24.0132 107.803 25.9776L107.43 27.4516C111.165 28.3118 114.9 29.172 118.635 30.153L119.008 28.679C119.505 26.7146 117.016 28.1885 117.888 25.1174L121.001 12.9585C121.748 9.88729 123.242 12.3447 123.74 10.3803L124.237 8.41579C120.502 7.43233 116.767 6.45134 113.032 5.71436L112.41 7.67881C111.91 9.64327 114.398 8.16931 113.654 11.2405Z" fill="#FDF8EE" />
            <path d="M64.7286 34.9423C66.6534 34.9423 68.2138 33.4028 68.2138 31.5038C68.2138 29.6049 66.6534 28.0654 64.7286 28.0654C62.8038 28.0654 61.2434 29.6049 61.2434 31.5038C61.2434 33.4028 62.8038 34.9423 64.7286 34.9423Z" fill="#FDF8EE" />
            <path d="M55.2672 34.9442C56.9174 34.9442 58.2552 33.6244 58.2552 31.9963C58.2552 30.3682 56.9174 29.0483 55.2672 29.0483C53.617 29.0483 52.2792 30.3682 52.2792 31.9963C52.2792 33.6244 53.617 34.9442 55.2672 34.9442Z" fill="#FDF8EE" />
            <path d="M46.9253 34.9441C48.301 34.9441 49.4162 33.8439 49.4162 32.4867C49.4162 31.1295 48.301 30.0293 46.9253 30.0293C45.5496 30.0293 44.4344 31.1295 44.4344 32.4867C44.4344 33.8439 45.5496 34.9441 46.9253 34.9441Z" fill="#FDF8EE" />
            <path d="M39.5801 34.9421C40.6798 34.9421 41.5712 34.0626 41.5712 32.9776C41.5712 31.8927 40.6798 31.0132 39.5801 31.0132C38.4804 31.0132 37.5889 31.8927 37.5889 32.9776C37.5889 34.0626 38.4804 34.9421 39.5801 34.9421Z" fill="#FDF8EE" />
            <path d="M33.2318 34.944C34.0569 34.944 34.7258 34.2841 34.7258 33.4701C34.7258 32.656 34.0569 31.9961 33.2318 31.9961C32.4067 31.9961 31.7378 32.656 31.7378 33.4701C31.7378 34.2841 32.4067 34.944 33.2318 34.944Z" fill="#FDF8EE" />
            <path d="M27.8778 34.9445C28.4284 34.9445 28.8747 34.5042 28.8747 33.961C28.8747 33.4179 28.4284 32.9775 27.8778 32.9775C27.3273 32.9775 26.881 33.4179 26.881 33.961C26.881 34.5042 27.3273 34.9445 27.8778 34.9445Z" fill="#FDF8EE" />
            <path d="M74.0649 34.9442C75.7152 34.9442 77.053 33.6244 77.053 31.9963C77.053 30.3682 75.7152 29.0483 74.0649 29.0483C72.4147 29.0483 71.0769 30.3682 71.0769 31.9963C71.0769 33.6244 72.4147 34.9442 74.0649 34.9442Z" fill="#FDF8EE" />
            <path d="M82.5293 34.9441C83.905 34.9441 85.0202 33.8439 85.0202 32.4867C85.0202 31.1295 83.905 30.0293 82.5293 30.0293C81.1536 30.0293 80.0385 31.1295 80.0385 32.4867C80.0385 33.8439 81.1536 34.9441 82.5293 34.9441Z" fill="#FDF8EE" />
            <path d="M89.8745 34.9421C90.9742 34.9421 91.8657 34.0626 91.8657 32.9776C91.8657 31.8927 90.9742 31.0132 89.8745 31.0132C88.7748 31.0132 87.8833 31.8927 87.8833 32.9776C87.8833 34.0626 88.7748 34.9421 89.8745 34.9421Z" fill="#FDF8EE" />
            <path d="M96.2228 34.944C97.0479 34.944 97.7168 34.2841 97.7168 33.4701C97.7168 32.656 97.0479 31.9961 96.2228 31.9961C95.3977 31.9961 94.7288 32.656 94.7288 33.4701C94.7288 34.2841 95.3977 34.944 96.2228 34.944Z" fill="#FDF8EE" />
            <path d="M101.577 34.9445C102.127 34.9445 102.574 34.5042 102.574 33.961C102.574 33.4179 102.127 32.9775 101.577 32.9775C101.026 32.9775 100.58 33.4179 100.58 33.961C100.58 34.5042 101.026 34.9445 101.577 34.9445Z" fill="#FDF8EE" />
            <path
              d="M79.2939 1.04588C78.0497 0.678619 76.8031 0.432137 75.5589 0.432137C74.1898 0.308896 72.9456 0.432137 71.6989 0.678619C66.8446 1.65962 62.9847 5.09803 62.6124 11.3636C62.2402 18.1197 66.4724 21.9253 71.6989 23.1553C72.5709 23.4018 73.5652 23.5225 74.4371 23.5225C75.434 23.5225 76.4283 23.5225 77.3002 23.3993C82.5293 22.6623 87.0113 19.2239 87.3836 12.5911C87.6334 6.20474 84.0233 2.3966 79.2939 1.04588ZM78.2971 12.0981C77.9248 20.5721 75.8062 20.6954 74.562 20.6954C73.3179 20.6954 71.2018 20.3281 71.574 11.8516C71.9463 3.37759 74.0649 3.25435 75.309 3.25435C76.6781 3.25682 78.6718 3.62407 78.2971 12.0981Z"
              fill="#FDF8EE"
            />
          </svg>
        </Link>

        <article className={"nav-menu " + (active ? "active" : "")}>
          <h1 style={{ "--index": 1 }}>menu</h1>
          <ul>
            <li className="nav-item" style={{ "--index": 2 }}>
              <Link className="nav-link" href="/program" onClick={handleBurgerClick}>
                Program
              </Link>
            </li>
            {koncepter.map((item, index) => (
              <li className="nav-item under" key={item.slug} style={{ "--index": index + 3 }}>
                <Link className="nav-link" href={"/koncept/" + item.slug} onClick={handleBurgerClick}>
                  {item.name}
                </Link>
              </li>
            ))}

            <li className="nav-item head" style={{ "--index": koncepter.length + 4 }}>
              <Link className="nav-link" href="/about" onClick={handleBurgerClick}>
                Om Tivoli Genlyd
              </Link>
            </li>
          </ul>
        </article>

        <div className="nav-flexshelf">
          {userState ? (
            <Link href={"/user"}>
              <svg id="b" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168.7 165.13">
                <g id="c" data-name="Layer 1">
                  <g id="d" data-name="st6sxy">
                    <g>
                      <path d="M84.3,165.07c-25.47,0-50.94,0-76.41,0-7.79,0-7.57-.02-7.85-8.04-.67-19.39,6.36-35.11,22.01-46.69,8.67-6.42,18.61-9.72,29.37-9.81,21.97-.19,43.95-.25,65.92,0,27.86.32,51.13,23.8,51.25,51.61.07,15.31,1.96,12.81-12.87,12.9-23.8.13-47.61.04-71.42.04Z" />
                      <path d="M84.23,87.92c-24.02-.05-44.02-20.02-43.96-43.91C40.34,19.97,60.02.24,84.18,0c23.96-.24,44.36,20.14,44.24,44.2-.11,23.88-20.22,43.77-44.19,43.72Z" />
                    </g>
                  </g>
                </g>
              </svg>
            </Link>
          ) : (
            <SecondaryBtn text={"Login"} link={"/user"} />
          )}

          <div className={"hamburger " + (active ? "active" : "")} onClick={handleBurgerClick}>
            <span className="bar1"></span>
            <span className="bar2"></span>
            <span className="bar3"></span>
          </div>
        </div>
      </nav>
      <div onClick={handleBurgerClick} className={"blur " + (active ? "active" : "")}></div>
    </div>
  );
}
