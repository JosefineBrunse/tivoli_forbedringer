"use client";
import { useEffect, useRef, useState } from "react";
import { gsap } from "gsap";
import { Draggable } from "gsap/Draggable";
import Image from "next/image";

import HeaderSliderElement from "./HeaderSliderElement";

gsap.registerPlugin(Draggable);

export default function HeaderSlider({ data }) {
  const proxyRef = useRef(null);
  const prevButtonRef = useRef(null);
  const nextButtonRef = useRef(null);
  const slideAnimationRef = useRef(null);
  const slideDuration = 0.8;
  const [activeDotIndex, setActiveDotIndex] = useState(0);
  const [isAnimating, setIsAnimating] = useState(false);
  const [filteredData, setFilteredData] = useState([]);
  const [slideIndex, setSlideIndex] = useState(0);
  const [transform, setTransform] = useState(100 * slideIndex);

  useEffect(() => {
    const interval = setInterval(() => {
      if (slideIndex === 4) {
        setSlideIndex(0);
      } else {
        setSlideIndex(slideIndex + 1);
      }
    }, 5000);
    return () => clearInterval(interval);
  }, [slideIndex]);
  useEffect(() => {
    filterAndSortData(data); // Filter and sort data on initial load
  }, [data]);

  const filterAndSortData = (data) => {
    // Filter events to include only upcoming events
    const now = new Date();
    let filteredDataCopy = data.filter((item) => new Date(item.from) >= now);

    // Sort events by date
    filteredDataCopy.sort((a, b) => new Date(a.from) - new Date(b.from));

    // Limit to the first 5 events
    filteredDataCopy = filteredDataCopy.slice(0, 5);

    setFilteredData(filteredDataCopy);
  };

  return (
    <div className="scrollelementcontainer">
      <div className="scrolllogoelement">
        <svg
          className="logo"
          id="b"
          data-name="Layer 2"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 677.77 358.96"
        >
          <g id="c" data-name="b">
            <g>
              <path d="M208.45,173.58c-8.05,0-14.75,5.64-14.62,13.01.26,4.03,2.95,8.45,6.7,8.45,3.35,0,5.5-3.62,7.24-6.7,1.61-3.49,3.76-7.11,7.11-7.11,5.23,0,7.92,8.98,8.05,14.48.41,10.32-4.69,5.63-14.21,10.32-4.83,2.28-7.24,9.92-13.14,9.92s-10.86-6.97-11.13-14.48c-.4-9.93,6.17-14.35,5.77-24.81-.14-7.1-4.29-16.35-4.56-24.4-.27-7.38,2.28-14.35,10.86-14.35,6.84,0,14.48,3.62,14.75,10.32.14,5.23-3.21,9.39-3.08,14.08.14,3.35,2.68,6.57,6.17,6.57,6.03,0,12.07-5.76,11.8-13.27-.4-12.07-10.59-23.6-30.17-23.6-12.07,0-19.31,7.24-18.91,18.91.53,14.49,6.16,11.4,7.37,23.47,1.07,13.95-8.58,23.2-8.18,37.28h0c.4,9.52,6.44,16.89,15.02,16.89,13.54,0,10.86-15.29,17.7-15.29,4.42,0,8.04,4.16,11.93,4.16,5.63,0,8.18-14.88,7.91-21.99-.53-13.55-8.85-21.86-20.38-21.86Z" />
              <path d="M252.97,146.9c5.23,0,9.39,6.17,14.48,6.17s10.32-4.96,10.32-11.53c0-4.42-2.41-11.53-6.97-11.53-6.3,0-9.12,8.18-16.36,8.18-1.75,0-3.62-.4-5.5-.4-8.58,0-14.21,7.91-14.21,16.49,0,9.52,6.98,15.55,7.11,25.34,0,5.23-2.15,10.46-3.89,15.42-2.81,6.98-6.03,15.29-6.03,23.2h.03c0,4.43,1.87,10.6,6.7,10.6,2.82,0,5.77-2.01,7.78-4.69,1.74-2.28,3.49-5.23,5.9-5.23,3.88-.81,6.7,7.37,12.6,7.37,8.18-.13,12.6-10.06,12.6-20.65,0-4.16-1.21-8.58-5.23-8.58-8.99,0-9.12,16.49-18.64,16.49-.94,0-1.75-.27-2.82-.27-6.44,0-6.71,6.84-9.39,6.84-3.49,0-4.16-4.96-3.22-10.73,2.15-10.19,10.06-30.04,14.62-30.04,4.83,0,3.35,6.44,9.25,6.44,5.5,0,9.25-4.96,9.25-12.07-.27-4.29-1.35-6.97-5.77-6.97-5.9,0-9.39,8.18-15.29,8.18s-9.25-7.24-9.25-13.68c0-7.78,5.23-14.35,11.93-14.35Z" />
              <path d="M331.15,130.41c-4.82,0-8.98,3.89-8.98,9.52,0,6.97,6.17,13.94,6.3,21.72,0,4.83-2.68,8.85-2.68,13.95,0,12.33,6.97,21.85,6.97,32.58,0,5.1-1.88,8.72-6.57,8.72-7.51,0-11.13-8.45-11.13-17.7,0-7.91,2.41-15.42,2.41-23.33,0-14.89-9.79-41.57-22.26-41.57-7.64,0-12.47,4.43-12.47,13.41,0,12.87,15.69,21.05,15.69,35.8s-14.74,18.24-14.75,31.1c0,6.04,3.89,12.73,10.46,12.73s8.72-7.11,8.72-13.41c0-3.62-.8-10.59-.8-12.47,0-6.43,2.28-9.38,2.28-15.55,0-7.24-5.9-13.81-5.9-20.38,0-2.68,1.74-6.57,5.23-6.57,5.63,0,9.25,14.35,9.25,22.8,0,10.99-2.01,14.61-2.01,22.39,0,11,6.16,20.25,16.22,20.25,8.58,0,11.93-5.36,11.93-13.14,0-11.66-5.5-18.64-5.5-32.18,0-17.43,10.73-18.5,10.73-32.85,0-8.04-5.77-15.82-13.14-15.82Z" />
              <polygon points="283.68 214.62 283.68 214.61 283.68 214.6 283.68 214.62" />
              <path d="M383.71,189.54c-12.74,0-13.41,28.29-24.67,28.29-3.75,0-5.36-3.89-5.36-7.91,0-12.6,7.51-15.15,7.51-30.17,0-23.87,15.55-21.19,15.55-39.02,0-5.36-2.28-9.25-8.45-9.25-7.51,0-13.01,7.24-13.01,15.96,0,5.5,2.68,15.56,2.68,23.87-.4,16.09-11.53,25.08-11.53,41.57h.01c0,7.23,4.03,15.14,10.06,15.14,6.84,0,8.31-11.53,13.81-11.53,3.21,0,4.42,4.16,8.98,4.16,7.64,0,11.93-10.6,11.93-19.58,0-5.9-2.55-11.53-7.51-11.53Z" />
              <path d="M436.38,131.2c-5.09,0-8.98,4.97-8.98,11.67,0,5.5,3.49,11.26,3.49,17.03s-4.02,11.27-9.52,11.4c-5.77,0-11.8-5.76-11.8-12.6,0-6.44,2.41-7.51,2.41-15.69,0-6.57-1.21-12.07-5.9-12.07-5.22,0-10.45,9.39-10.32,18.91,0,16.22,9.66,25.07,26.42,25.07,7.65,0,7.78,5.77,7.78,14.08,0,6.7,3.35,13,3.35,19.44,0,3.62-1.47,6.84-4.96,6.84-13.14,0-8.31-27.89-23.73-27.89-5.37,0-9.79,4.56-9.79,11h-.02c0,11.65,13.81,30.56,26.15,30.56,10.86,0,18.37-9.78,18.37-22.12,0-11.66-7.11-19.31-7.11-28.96,0-15.02,15.69-12.47,15.69-30.04,0-8.18-4.56-16.63-11.53-16.63Z" />
              <path d="M498.63,147.98c0-10.59-6.04-13.41-15.69-13.41-10.73,0-7.65-3.49-17.3-3.49-6.7,0-13.14,3.48-13.14,10.32,0,8.18,10.46,13.14,10.46,21.72,0,5.37-5.1,9.39-5.1,15.02,0,4.43,4.29,8.72,4.29,14.08,0,2.95-.94,6.04-2.28,8.45-1.75,3.36-4.16,6.31-6.17,9.39-2.15,3.21-2.55,4.82-2.55,8.98h.02c0,4.3,2.41,8.99,7.64,8.99,5.76,0,6.84-3.22,14.21-3.22,11.93,0,17.56.93,24-8.72,2.95-4.29,4.56-9.92,4.56-15.55,0-10.59-7.11-19.85-7.24-30.17,0-8.31,4.29-14.08,4.29-22.39ZM487.21,199.61c0,8.98-6.57,19.04-14.21,19.04-5.5-.41-4.96-7.65-6.3-12.34-.94-2.68-1.74-5.36-2.01-8.31,0-2.41.4-4.56.4-6.57,0-3.49-1.88-12.34-2.28-14.62-.4-3.35,1.34-5.9,2.28-8.58,1.47-3.63,1.74-7.25,1.74-11,0-4.02-.26-7.78-.13-11.8.54-4.02,1.88-7.51,7.11-7.51s10.86,2.28,10.86,8.31c0,4.97-1.47,6.04-4.02,12.34-1.74,3.88-3.08,8.18-3.08,12.6,0,10.33,9.65,16.76,9.65,28.43h0Z" />
              <path d="M669.79,172.38c-2.2-.1-4.47-.21-6.64-1.34-3.23-1.7-4.82-2.57-6.42-3.45-1.61-.88-3.23-1.77-6.48-3.48-3.18-1.67-4.78-2.58-6.32-3.46-1.59-.9-3.23-1.83-6.53-3.56-3.29-1.73-5-2.52-6.67-3.29-1.69-.78-3.28-1.51-6.48-3.19-3.01-1.58-4.26-2.75-5.59-3.98-1.46-1.36-2.96-2.77-6.43-4.59-3.41-1.79-5.31-2.38-7.15-2.94-1.74-.53-3.38-1.04-6.46-2.65-3.3-1.73-5.04-2.5-6.72-3.24-1.69-.75-3.29-1.45-6.47-3.12-3.31-1.74-5.04-2.52-6.71-3.28-1.61-.73-3.28-1.48-6.45-3.15-3.03-1.6-4.33-2.72-5.71-3.9-1.49-1.28-3.02-2.61-6.46-4.42-3.38-1.78-5.23-2.42-7.02-3.05-1.72-.6-3.35-1.17-6.45-2.8-3.33-1.75-5.1-2.49-6.81-3.21-1.7-.71-3.3-1.38-6.45-3.03-3.15-1.66-4.59-2.62-6.12-3.64-1.55-1.03-3.15-2.1-6.48-3.86-3.15-1.66-4.61-2.6-6.15-3.61-1.56-1.01-3.17-2.06-6.5-3.8-3.3-1.74-5.04-2.5-6.72-3.25-1.7-.75-3.3-1.45-6.47-3.12-3.07-1.62-4.68-2.48-6.22-3.29-1.7-.91-3.32-1.77-6.72-3.56-3.11-1.63-4.5-2.65-5.97-3.73-1.53-1.12-3.11-2.28-6.48-4.05-3.51-1.85-5.68-2.24-7.59-2.59-1.79-.33-3.47-.63-6.44-2.2-3.13-1.65-4.55-2.64-6.06-3.68-1.54-1.07-3.13-2.17-6.48-3.94-3.07-1.61-4.41-2.69-5.83-3.82-1.51-1.2-3.07-2.45-6.48-4.24-3.35-1.76-4.99-2.59-6.68-3.45-1.58-.8-3.21-1.62-6.34-3.26-3.32-1.75-5.07-2.5-6.77-3.22-1.7-.73-3.3-1.41-6.47-3.08-3.14-1.65-4.57-2.64-6.08-3.68-1.54-1.07-3.13-2.17-6.47-3.93-3.37-1.77-5.2-2.43-6.97-3.08-1.72-.62-3.35-1.21-6.47-2.85-3.13-1.65-4.56-2.62-6.08-3.66-1.55-1.05-3.14-2.15-6.49-3.9-3.31-1.74-5.55-2.01-7.52-2.25-2.03-.25-3.63-.44-6.41-2.46-1.95-1.42-3.09-2.69-4.1-3.81-1.55-1.73-2.83-3.01-5.1-3.67l.55-.55h-4.83c-5.23,0-7.05,2.09-8.81,4.11-1.11,1.28-2.26,2.6-4.58,3.82-3.14,1.65-4.76,2.27-6.48,2.92-1.75.67-3.55,1.35-6.89,3.11-3.12,1.64-4.75,2.23-6.47,2.84-1.77.64-3.61,1.3-6.97,3.07-3.29,1.73-4.92,2.72-6.48,3.67-1.58.96-3.08,1.87-6.27,3.55-3.37,1.77-4.95,2.91-6.48,4.02-1.48,1.07-2.88,2.08-6,3.72-3.29,1.73-4.9,2.74-6.46,3.72-1.57.98-3.05,1.91-6.24,3.58-3.05,1.6-4.7,2.05-6.45,2.53-1.88.51-3.82,1.05-7.26,2.85-3.21,1.69-4.87,2.5-6.48,3.28-1.63.8-3.32,1.62-6.58,3.34-3.35,1.76-4.94,2.89-6.47,3.98-1.49,1.06-2.9,2.07-6.03,3.71-3.24,1.7-4.87,2.61-6.44,3.48-1.64.91-3.2,1.77-6.45,3.48-3.03,1.59-4.69,2.01-6.45,2.46-1.91.48-3.88.98-7.33,2.79-3.38,1.78-4.95,2.94-6.48,4.07-1.47,1.09-2.85,2.11-5.96,3.75-3.26,1.71-4.9,2.62-6.48,3.49-1.57.86-3.19,1.76-6.42,3.45-3.34,1.76-4.94,2.84-6.48,3.88-1.52,1.03-2.96,2-6.1,3.66-2.99,1.57-4.67,1.92-6.44,2.29-1.97.41-4.01.83-7.5,2.66-3.44,1.81-4.98,3.13-6.46,4.41-1.38,1.18-2.68,2.3-5.72,3.9-3.13,1.65-4.75,2.24-6.47,2.88-1.77.65-3.59,1.32-6.95,3.08-3.36,1.77-4.94,2.9-6.47,3.99-1.49,1.07-2.9,2.07-6.03,3.72-3.16,1.66-4.77,2.32-6.47,3.02-1.71.71-3.49,1.44-6.81,3.19-3.32,1.75-4.93,2.79-6.48,3.8-1.55,1.01-3.01,1.96-6.17,3.62-3.25,1.71-4.87,2.58-6.49,3.44-1.61.86-3.22,1.72-6.45,3.42-3.02,1.59-4.69,1.97-6.46,2.38-1.94.45-3.94.91-7.4,2.73-3.39,1.78-4.96,2.97-6.48,4.12-1.45,1.1-2.83,2.14-5.93,3.77-3.14,1.65-4.76,2.26-6.48,2.91-1.75.66-3.57,1.34-6.91,3.1-3.3,1.73-4.92,2.71-6.49,3.66-1.59.96-3.09,1.86-6.29,3.54-2.07,1.09-4.1,1.39-5.88,1.66-3.22.48-7.23,1.09-7.23,7.46s3.83,7.06,7.21,7.65c1.74.31,3.72.65,5.75,1.72,3.17,1.67,4.75,2.61,6.27,3.51,1.58.94,3.2,1.9,6.51,3.64,3.46,1.82,5.45,2.31,7.37,2.77,1.76.43,3.42.83,6.44,2.42,4.32,2.27,8.65,4.54,12.97,6.8,3.13,1.65,4.56,2.63,6.06,3.68,1.54,1.07,3.13,2.17,6.46,3.93,3.35,1.76,5.16,2.45,6.92,3.11,1.71.65,3.33,1.26,6.47,2.91,3.28,1.72,4.98,2.52,6.63,3.3,1.68.79,3.28,1.54,6.48,3.22,3.05,1.6,4.35,2.71,5.74,3.89,1.49,1.26,3.03,2.57,6.46,4.37,3.3,1.74,5.03,2.51,6.71,3.25,1.69.75,3.29,1.46,6.47,3.14l12.96,6.82c3.33,1.75,5.1,2.48,6.82,3.18,1.71.7,3.32,1.35,6.47,3.01,3.36,1.77,5.18,2.44,6.94,3.09,1.72.63,3.34,1.23,6.47,2.88,3.15,1.66,4.61,2.62,6.15,3.63,1.55,1.02,3.16,2.07,6.48,3.82,3.17,1.67,4.76,2.58,6.29,3.46,1.59.91,3.23,1.85,6.55,3.59,3.13,1.65,4.56,2.63,6.07,3.66,1.54,1.06,3.14,2.15,6.49,3.91,3.46,1.82,5.44,2.3,7.36,2.77,1.76.43,3.43.84,6.45,2.43,3.19,1.68,4.79,2.59,6.33,3.47,1.58.9,3.22,1.84,6.52,3.57,2.99,1.58,4.23,2.76,5.54,4.01,1.45,1.39,2.96,2.82,6.44,4.66,3.34,1.75,5.13,2.46,6.87,3.14,1.71.67,3.33,1.3,6.47,2.96,3.36,1.77,5.19,2.43,6.97,3.07,1.72.62,3.35,1.21,6.46,2.85,3.03,1.6,4.32,2.73,5.69,3.92,1.48,1.29,3.01,2.63,6.46,4.45,3.33,1.75,5.11,2.48,6.83,3.18,1.71.7,3.32,1.35,6.47,3.01,3.18,1.67,4.67,2.59,6.25,3.56,1.56.96,3.18,1.96,6.49,3.7,3.29,1.73,5.01,2.52,6.67,3.28,1.69.77,3.28,1.5,6.48,3.18,3.18,1.67,4.67,2.6,6.24,3.57,1.56.97,3.18,1.98,6.49,3.72,2.21,1.16,3.55,2.33,4.74,3.36,2.26,1.97,4.22,3.67,9.57,3.67s7.35-1.8,9.5-3.71c1.24-1.1,2.52-2.24,4.75-3.41,3.38-1.77,4.96-2.92,6.49-4.04,1.48-1.08,2.87-2.09,5.98-3.72,3.21-1.69,4.87-2.49,6.47-3.27,1.63-.79,3.33-1.61,6.6-3.33,3.27-1.72,4.89-2.69,6.46-3.63,1.6-.96,3.1-1.86,6.31-3.54,3.11-1.63,4.74-2.19,6.46-2.79,1.79-.62,3.64-1.26,7.01-3.03,3.46-1.82,4.98-3.21,6.45-4.54,1.34-1.23,2.61-2.38,5.62-3.96,3.04-1.59,4.69-2.04,6.44-2.51,1.89-.51,3.84-1.04,7.28-2.85,3.19-1.68,4.8-2.39,6.49-3.14,1.68-.74,3.41-1.51,6.7-3.23,3.44-1.81,4.97-3.14,6.45-4.43,1.37-1.19,2.66-2.31,5.7-3.91,3.15-1.66,4.77-2.28,6.48-2.95,1.74-.67,3.54-1.37,6.87-3.12,3.35-1.76,4.95-2.85,6.5-3.9,1.51-1.03,2.95-2.01,6.08-3.66,3.07-1.62,4.72-2.12,6.46-2.65,1.84-.56,3.75-1.14,7.15-2.93,3.33-1.75,4.92-2.83,6.47-3.88,1.52-1.03,2.96-2.01,6.11-3.66,3.3-1.74,4.92-2.73,6.48-3.7,1.58-.97,3.07-1.89,6.25-3.56,3.07-1.61,4.71-2.1,6.46-2.61,1.86-.55,3.77-1.11,7.19-2.91,3.24-1.71,4.87-2.63,6.44-3.53,1.63-.93,3.16-1.81,6.4-3.51,3.29-1.73,4.91-2.57,6.57-3.42,1.6-.83,3.24-1.67,6.43-3.34,3.2-1.69,4.87-2.47,6.48-3.24,1.65-.78,3.35-1.59,6.62-3.31,3.46-1.82,4.98-3.18,6.45-4.51,1.35-1.21,2.63-2.36,5.65-3.94,3.32-1.75,4.95-2.57,6.62-3.42,1.59-.81,3.23-1.63,6.39-3.29,3.13-1.64,4.75-2.23,6.48-2.86,1.77-.64,3.6-1.3,6.95-3.06,3.16-1.66,4.78-2.32,6.49-3.01,1.72-.7,3.49-1.42,6.81-3.16,3.34-1.75,4.94-2.81,6.5-3.84,1.54-1.01,2.99-1.97,6.13-3.62,3.12-1.64,4.75-2.23,6.47-2.85,1.77-.64,3.61-1.3,6.97-3.07,3.51-1.84,5-3.32,6.45-4.74,1.29-1.27,2.52-2.48,5.49-4.04,2.19-1.15,4.55-1.15,6.83-1.16,3.41,0,8.07,0,8.07-6.36s-4.61-6.55-7.98-6.71ZM669.69,181.45c-2.51,0-5.63,0-8.69,1.62-3.5,1.84-4.99,3.31-6.43,4.73-1.29,1.27-2.52,2.48-5.5,4.05-3.12,1.64-4.75,2.23-6.47,2.85-1.77.64-3.61,1.3-6.97,3.07-3.32,1.75-4.92,2.8-6.47,3.82-1.54,1.01-2.99,1.97-6.15,3.63-3.14,1.65-4.75,2.3-6.46,2.99-1.73.7-3.51,1.42-6.85,3.18-3.11,1.63-4.74,2.22-6.45,2.84-1.77.64-3.61,1.31-6.97,3.08-3.13,1.64-4.76,2.46-6.34,3.26-1.69.86-3.33,1.68-6.68,3.45-3.46,1.82-4.99,3.19-6.46,4.51-1.35,1.21-2.62,2.36-5.64,3.94-3.2,1.69-4.87,2.47-6.48,3.24-1.65.78-3.35,1.59-6.62,3.31-3.18,1.67-4.8,2.51-6.4,3.33-1.66.86-3.29,1.69-6.6,3.43-3.3,1.73-4.94,2.67-6.52,3.58-1.54.88-3.14,1.79-6.32,3.47-3.07,1.61-4.72,2.1-6.46,2.61-1.85.55-3.77,1.11-7.19,2.91-3.3,1.74-4.92,2.73-6.48,3.7-1.58.97-3.07,1.89-6.25,3.56-3.35,1.76-4.95,2.84-6.5,3.89-1.52,1.03-2.95,2-6.09,3.65-3.07,1.62-4.72,2.12-6.46,2.65-1.84.56-3.75,1.14-7.15,2.93-3.33,1.75-4.93,2.84-6.47,3.89-1.52,1.04-2.95,2.01-6.1,3.67-3.13,1.64-4.75,2.27-6.45,2.93-1.74.68-3.55,1.38-6.9,3.14-3.45,1.81-4.98,3.14-6.46,4.43-1.37,1.19-2.66,2.31-5.69,3.91-3.17,1.66-4.76,2.37-6.45,3.11-1.68.74-3.42,1.51-6.74,3.26-3.05,1.6-4.71,2.05-6.46,2.52-1.88.51-3.83,1.03-7.26,2.83-3.47,1.82-4.99,3.21-6.46,4.55-1.34,1.22-2.6,2.38-5.61,3.96-3.1,1.63-4.73,2.19-6.46,2.79-1.79.62-3.64,1.26-7.01,3.03-3.31,1.74-4.93,2.71-6.51,3.66-1.52.91-3.09,1.85-6.26,3.52-3.21,1.69-4.87,2.49-6.47,3.27-1.63.79-3.33,1.61-6.59,3.33-3.37,1.77-4.95,2.92-6.47,4.03-1.48,1.08-2.87,2.09-5.99,3.73-2.66,1.39-4.26,2.82-5.55,3.96-1.96,1.74-3.04,2.7-6.84,2.7s-4.95-.95-6.95-2.69c-1.28-1.12-2.88-2.51-5.5-3.88-3.18-1.67-4.67-2.59-6.24-3.57-1.56-.97-3.18-1.98-6.49-3.72-3.29-1.73-5.01-2.52-6.67-3.28-1.69-.77-3.28-1.5-6.48-3.18-3.18-1.67-4.67-2.59-6.25-3.56-1.56-.96-3.18-1.96-6.49-3.7-3.33-1.75-5.1-2.47-6.82-3.17-1.71-.7-3.32-1.35-6.48-3.02-3.03-1.6-4.32-2.73-5.69-3.92-1.48-1.29-3.01-2.63-6.46-4.45-3.36-1.77-5.19-2.43-6.97-3.07-1.72-.62-3.35-1.21-6.46-2.85-3.34-1.76-5.14-2.46-6.87-3.14-1.71-.67-3.33-1.3-6.47-2.96-2.99-1.58-4.23-2.76-5.55-4.01-1.45-1.39-2.96-2.82-6.45-4.66-3.23-1.7-4.77-2.58-6.4-3.5-1.57-.9-3.2-1.83-6.45-3.54-3.46-1.82-5.44-2.3-7.36-2.77-1.76-.43-3.43-.84-6.45-2.43-3.14-1.65-4.57-2.63-6.09-3.67-1.54-1.06-3.13-2.15-6.47-3.9-3.25-1.7-4.79-2.58-6.42-3.52-1.57-.9-3.19-1.83-6.42-3.53-3.15-1.66-4.61-2.62-6.15-3.63-1.55-1.02-3.16-2.07-6.48-3.82-3.36-1.77-5.18-2.44-6.94-3.09-1.72-.63-3.34-1.23-6.47-2.88-3.33-1.75-5.1-2.48-6.82-3.18-1.71-.7-3.32-1.35-6.47-3.01l-12.96-6.82c-3.3-1.73-5.03-2.5-6.71-3.25-1.69-.75-3.29-1.46-6.47-3.14-3.05-1.6-4.35-2.71-5.74-3.89-1.49-1.26-3.03-2.57-6.46-4.38-3.28-1.72-4.98-2.52-6.63-3.3-1.68-.79-3.28-1.54-6.48-3.22-3.35-1.76-5.16-2.45-6.91-3.11-1.72-.65-3.34-1.26-6.47-2.91-3.12-1.64-4.54-2.63-6.04-3.67-1.54-1.07-3.13-2.18-6.49-3.94-4.32-2.26-8.65-4.52-12.97-6.8-3.45-1.81-5.44-2.3-7.35-2.76-1.76-.43-3.43-.83-6.46-2.43-3.21-1.68-4.72-2.58-6.33-3.54-1.57-.93-3.19-1.89-6.45-3.61-2.59-1.36-4.99-1.78-6.92-2.12-3.3-.58-3.9-.68-3.9-3.71s.58-3.02,3.82-3.5c1.99-.3,4.48-.67,7.15-2.08,3.3-1.73,4.92-2.71,6.49-3.66,1.59-.96,3.1-1.86,6.29-3.54,3.12-1.64,4.74-2.25,6.46-2.9,1.76-.66,3.58-1.35,6.93-3.11,3.39-1.78,4.96-2.97,6.48-4.12,1.45-1.1,2.83-2.14,5.93-3.77,3.01-1.58,4.68-1.96,6.44-2.37,1.94-.45,3.95-.91,7.42-2.74,3.24-1.7,4.85-2.57,6.47-3.43,1.62-.86,3.23-1.72,6.47-3.43,3.32-1.75,4.93-2.79,6.48-3.8,1.55-1.01,3.01-1.96,6.17-3.62,3.16-1.66,4.77-2.32,6.47-3.03,1.71-.71,3.49-1.44,6.81-3.18,3.37-1.77,4.96-2.91,6.49-4,1.49-1.06,2.89-2.07,6.01-3.71,3.12-1.64,4.75-2.24,6.47-2.87,1.77-.65,3.59-1.32,6.95-3.09,3.44-1.81,4.98-3.13,6.46-4.41,1.38-1.18,2.68-2.3,5.72-3.9,2.99-1.57,4.67-1.92,6.44-2.29,1.97-.41,4.01-.83,7.5-2.66,3.34-1.76,4.94-2.84,6.48-3.88,1.52-1.03,2.96-2,6.1-3.66,3.26-1.71,4.9-2.62,6.48-3.49,1.57-.86,3.19-1.76,6.42-3.45,3.38-1.78,4.95-2.94,6.47-4.07,1.47-1.09,2.85-2.11,5.96-3.75,3.03-1.59,4.69-2.01,6.45-2.46,1.91-.48,3.88-.98,7.33-2.79,3.29-1.73,4.93-2.64,6.52-3.52,1.56-.86,3.17-1.76,6.37-3.44,3.37-1.77,4.95-2.9,6.49-3.99,1.49-1.06,2.9-2.06,6.01-3.7,3.21-1.69,4.87-2.5,6.48-3.28,1.63-.8,3.32-1.62,6.58-3.34,3.05-1.6,4.7-2.05,6.45-2.53,1.88-.51,3.82-1.05,7.26-2.85,3.32-1.74,4.94-2.75,6.5-3.73,1.56-.98,3.04-1.9,6.2-3.57,3.37-1.77,4.95-2.91,6.48-4.02,1.48-1.07,2.88-2.08,6-3.72,3.29-1.73,4.92-2.72,6.48-3.67,1.58-.96,3.08-1.87,6.27-3.55,3.12-1.64,4.74-2.22,6.47-2.84,1.77-.64,3.61-1.3,6.97-3.07,3.13-1.64,4.74-2.26,6.45-2.91,1.75-.67,3.56-1.36,6.92-3.12,2.99-1.57,4.51-3.32,5.74-4.73,1.39-1.6,2.18-2.5,4.66-2.7h1.09c3.88,0,4.64.84,6.45,2.85,1.08,1.21,2.43,2.71,4.72,4.37,3.61,2.63,5.98,2.92,8.28,3.2,1.79.22,3.47.42,6.14,1.83,3.15,1.65,4.58,2.63,6.1,3.67,1.54,1.05,3.14,2.14,6.47,3.89,3.36,1.77,5.2,2.43,6.97,3.07,1.72.62,3.35,1.21,6.47,2.86,3.13,1.65,4.55,2.63,6.06,3.67,1.54,1.07,3.14,2.17,6.5,3.94,3.31,1.74,5.06,2.49,6.76,3.21,1.7.73,3.3,1.41,6.48,3.09,3.16,1.66,4.8,2.48,6.39,3.29,1.68.85,3.3,1.67,6.63,3.42,3.08,1.61,4.42,2.69,5.84,3.82,1.5,1.2,3.06,2.44,6.46,4.24,3.13,1.65,4.55,2.64,6.06,3.68,1.54,1.07,3.13,2.18,6.48,3.94,3.51,1.85,5.68,2.24,7.59,2.59,1.79.33,3.47.63,6.44,2.2,3.11,1.63,4.5,2.65,5.97,3.73,1.53,1.12,3.11,2.28,6.48,4.05,3.4,1.78,5,2.64,6.7,3.54,1.54.82,3.15,1.68,6.24,3.3,3.3,1.74,5.04,2.5,6.72,3.25,1.7.75,3.3,1.45,6.48,3.13,3.17,1.66,4.63,2.61,6.18,3.62,1.55,1.01,3.16,2.05,6.47,3.79,3.15,1.66,4.59,2.62,6.12,3.64,1.55,1.03,3.15,2.1,6.48,3.86,3.3,1.73,5.07,2.47,6.77,3.18,1.71.71,3.32,1.39,6.49,3.06,3.36,1.76,5.21,2.41,6.99,3.03,1.73.6,3.36,1.17,6.48,2.82,3.04,1.59,4.34,2.72,5.71,3.9,1.48,1.28,3.02,2.61,6.46,4.42,3.28,1.72,5,2.5,6.66,3.25,1.7.77,3.3,1.49,6.5,3.18,3.3,1.73,5.04,2.5,6.72,3.24,1.69.75,3.29,1.45,6.47,3.12,3.41,1.79,5.31,2.37,7.15,2.94,1.74.53,3.38,1.04,6.46,2.65,2.99,1.58,4.24,2.74,5.57,3.98,1.46,1.36,2.97,2.77,6.45,4.6,3.29,1.73,5,2.52,6.67,3.29,1.69.78,3.28,1.51,6.48,3.19,3.24,1.7,4.78,2.57,6.41,3.5,1.57.89,3.2,1.81,6.44,3.52,3.23,1.7,4.82,2.57,6.42,3.45,1.61.88,3.23,1.77,6.48,3.48,2.95,1.55,5.93,1.69,8.32,1.8,3.85.18,4.16.38,4.16,2.71,0,2.16-.11,2.36-4.08,2.36Z" />
            </g>
          </g>
        </svg>
        <h1>Kommende Events</h1>
      </div>
      <div
        className="scrollleft"
        onClick={() =>
          setSlideIndex((prevIndex) => (prevIndex === 0 ? 4 : prevIndex - 1))
        }
      >
        <svg viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1 1L5 5L1 9" stroke="#FDF8EE" />
        </svg>
      </div>
      <div
        className="scrollright"
        onClick={() =>
          setSlideIndex((prevIndex) => (prevIndex === 4 ? 0 : prevIndex + 1))
        }
      >
        <svg viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1 1L5 5L1 9" stroke="#FDF8EE" />
        </svg>
      </div>
      <div className="dots">
        {filteredData
          ? filteredData.map((item, index) => (
              <div
                key={index}
                className={`dot ${slideIndex === index ? "active" : ""}`}
                onClick={() => {
                  setSlideIndex(index);
                }}
              ></div>
            ))
          : null}
      </div>
      <section
        className="headerslider"
        ref={proxyRef}
        style={{
          right: `${slideIndex * 100}dvw`,
        }}
      >
        {filteredData.length > 0 ? (
          filteredData.map((artist, index) => (
            <HeaderSliderElement
index={index}
            slideIndex={slideIndex}
              key={artist.slug} // Add a unique key
              headline={artist.name}
              time={artist.from}
              place={artist.place}
              koncept={artist.koncept}
              slug={artist.slug}
              img={artist.img}
            />
          ))
        ) : (
          <div></div>
        )}
      </section>
    </div>
  );
}
